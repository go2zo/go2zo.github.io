{"hash":"15137aaa7ba1de16c5baa0a6b693c01cae1ff0a4","data":{"post":{"title":"Gridsome에 Eslint와 Prettier 적용기","date":"30. December 2020","timeToRead":2,"content":"<h2 id=\"eslint-vs-prettier\"><a href=\"#eslint-vs-prettier\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Eslint vs. Prettier</h2>\n<p>두 도구는 사실 결이 다르다. Eslint는 자바스크립트 <strong>문법검사 도구</strong>이고 Prettier는 <strong>코드 포매팅</strong>을 위한 도구이다. Eslint는 정적분석을 통해 에러유발 코드등을 찾기 때문에 코딩 컨벤션을 검사하는 기능도 갖추고 있긴 하나 코드 포매팅에 특화된 Prettier에 비해 약한편이라고 볼 수 있다. 따라서 보통 eslint와 prettier를 함께 사용한다.</p>\n<h2 id=\"eslint--prettier\"><a href=\"#eslint--prettier\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Eslint + Prettier</h2>\n<p>eslint에 prettier를 함께 적용하기 위해 <code>eslint-plugin-prettier</code> 플러그인을 추가한다.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -D eslint-plugin-prettier</code></pre>\n<p><code>.eslintrc.js</code>에 다음과 같이 추가한다.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// .eslintrc.js</span>\nmodule<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"prettier\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"rules\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"prettier/prettier\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"error\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>보다 권장되는 설정은 <code>eslint-config-prettier</code>를 이용하는 것이다.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -D eslint-config-prettier</code></pre>\n<p><code>eslint-config-prettier</code>는 prettier 룰과 충돌하는 eslint룰을 off해주고 <code>extends</code> 설정을 지원한다.</p>\n<pre class=\"language-diff\"><code class=\"language-diff\">// .eslintjs.js\nmodule.exports = {\n<span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> \"extends\": [\"plugin:prettier/recommended\"]\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\"> \"plugins\": [\"prettier\"],\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\"> \"rules\": {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">   \"prettier/prettier\": \"error\"\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\"> }\n</span></span>}</code></pre>\n<p>prettier 설정은 <code>.prettierrc</code> 파일에 작성한다.</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// .prettierrc</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"singleQuote\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"semi\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"gridsome에-적용하기\"><a href=\"#gridsome%EC%97%90-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gridsome에 적용하기</h2>\n<p>Gridsome을 위한 eslint의 공식 플러그인(<code>eslint-plugin-gridsome</code>)을 이용한다.</p>\n<p><code>eslint-plugin-gridsome</code>이 <code>vue-eslint-parser</code> ^6.0.4 버전 이상을 사용하므로 함께 설치한다.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> -D eslint-plugin-gridsome vue-eslint-parser</code></pre>\n<p><code>.eslintrc.js</code> 파일에 직접 플러그인을 설정해도 되지만 아래와 같이 extends로 간편하게 설정할 수 있다.</p>\n<pre class=\"language-diff\"><code class=\"language-diff\">// .eslintrc.js\nmodule.exports = {\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> parser: \"vue-eslint-parser\",\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> extends: [\"plugin:gridsome/recommended\"],\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\"> plugins: [\"gridsome\"],\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\"> rules: {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">   \"gridsome/format-query-block\": \"error\"\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">    ...\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\"> },\n</span></span>};</code></pre>\n<h2 id=\"references\"><a href=\"#references\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>References</h2>\n<ul>\n<li><a href=\"https://eslint.gridsome.org/user-guide/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://eslint.gridsome.org/user-guide/</a></li>\n<li><a href=\"https://eslint.vuejs.org/rules/#priority-a-essential-error-prevention-for-vue-js-3-x\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://eslint.vuejs.org/rules/#priority-a-essential-error-prevention-for-vue-js-3-x</a></li>\n<li><a href=\"https://garywoodfine.com/gridsome-configure-your-development-environment/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://garywoodfine.com/gridsome-configure-your-development-environment/</a></li>\n<li><a href=\"https://front-end.me/tool/eslint-prettier/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://front-end.me/tool/eslint-prettier/</a></li>\n</ul>\n","author":[{"id":"go2zo","title":"Go2zo"}],"excerpt":"lint-staged와 husky를 이용해 eslint와 커밋 메시지에 issue 번호 지정을 자동화 한다."}},"context":{}}